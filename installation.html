---
layout: default
title: Installation
---

<h1>Installation</h1>

<p>
  Installation is simple, following normal Node expectations.
</p>

<h3>With NPM</h3>

<pre class="code"><code>
cd &lt;your-project-directory&gt;

npm install tedious

</code></pre>

<p>
  Of course, if your project's
  <span class="code">package.json</span>
  declares a dependency on
  <span class="code">tedious</span>
  then it's even simpler.
  .
</p>

<pre class="code"><code>
cd &lt;your-project-directory&gt;

npm install

</code></pre>

<h3>Manually</h3>

Copy the directory containg <i>tedious</i> in to your project's
<code>node_modules</code> directory.

<h1>Installing SQL Server on Docker in Windows</h1>
<ul>
  <li><a href="https://hub.docker.com/_/microsoft-mssql-server">Checkout the official docker images</a></li>
  <li>
    <b>In Powershell:</b> </br>
    <ul>
      <li>Pull the docker image: </br>
        <pre class="code">
        <code>
          docker pull mcr.microsoft.com/mssql/server:2019-latest
        </code>
      </pre>
      </li>
      <li>Start the SQL Server: </br>
        <pre class="code">
          <code>
            docker run -e "ACCEPT_EULA=Y" -e "SA_PASSWORD=password_01" -p 1433:1433 -v sqldatavol:/var/opt/mssql -d
          </code>
      </pre>
        <ul>
          <li>
            Note: Data should be preserved in <i>sqldatavol</i> in the event the container is stopped or removed. To
            check, run <code>Docker volume ls</code> or <a
              href="https://www.darrinbishop.com/blog/2021/02/step-by-step-win10-and-sql-server-with-docker-volumes/">visit
              here</a> for more information about data persistence.
          </li>
        </ul>
      </li>
      <li>In your javascript file running <i>tedious</i>, set the config to something like: </br>
        {% highlight javascript %}
        var config = {
          "server": "0.0.0.0",
          "authentication": {
            "type": "default",
            "options": {
              "userName": "sa",
              "password": "password_01"
            }
          },
          "options": {
            "port": 1433,
            "database": "master",
            "trustServerCertificate": true
          }
        }
        {% endhighlight %}
      </li>
      <li>Verify that the server has been setup and `tedious` is able to connect by running the query: </br>
        {% highlight javascript %}
        // file.js
        const Request = require('tedious').Request;
        const Connection = require('tedious').Connection;
        const connection = new Connection(config);
        connection.on('connect', (err) => {
          if (err) {
            console.log('Connection Failed');
            throw err;
          }
          executeStatement();
        });
        connection.connect();
        function executeStatement() {
          const request = new Request("select 42, 'hello world'", (err, rowCount) => {
            if (err) {
              throw err;
            }
            console.log('DONE!');
            connection.close();
          });
          // Emits a 'DoneInProc' event when completed.
          request.on('row', (columns) => {
            columns.forEach((column) => {
              if (column.value === null) {
                console.log('NULL');
              } else {
                console.log(column.value);
              }
            });
          });
          // In SQL Server 2000 you may need: connection.execSqlBatch(request);
          connection.execSql(request);
        }
        {% endhighlight %}
      </li>
      <li>Expected output: </br>
        <code>
          42
          hello world
          1 rows returned
          DONE!
        </code>
      </li>
    </ul>
  </li>
</ul>